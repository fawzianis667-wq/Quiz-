<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>

<style>
body{
margin:0;
font-family:Tahoma;
background:linear-gradient(135deg,#020617,#020617,#0f172a,#020617);
background-size:400% 400%;
animation:bgMove 18s infinite alternate;
color:white;
overflow-x:hidden;
}

@keyframes bgMove{
0%{background-position:left}
100%{background-position:right}
}

.container{
max-width:900px;
margin:auto;
padding:40px 20px;
}

.title{
text-align:center;
font-size:32px;
margin-bottom:20px;
}

.pointsBox{
text-align:center;
margin-bottom:20px;
font-size:18px;
color:#38bdf8;
}

.timer{
text-align:center;
font-size:20px;
margin-bottom:20px;
color:#22c55e;
}

.card{
background:rgba(255,255,255,0.05);
padding:25px;
border-radius:20px;
margin-bottom:25px;
box-shadow:0 15px 40px rgba(0,0,0,0.5);
position:relative;
overflow:hidden;
}

.card::before{
content:"";
position:absolute;
width:200%;
height:200%;
background:radial-gradient(circle,rgba(0,255,200,0.08),transparent 60%);
animation:shield 6s linear infinite;
}

@keyframes shield{
0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}
}

button{
width:100%;
padding:15px;
margin-top:12px;
border:none;
border-radius:12px;
font-size:16px;
cursor:pointer;
background:linear-gradient(45deg,#0ea5e9,#2563eb);
color:white;
transition:0.3s;
box-shadow:0 0 10px rgba(0,150,255,0.3);
}

button:hover{
transform:scale(1.03);
box-shadow:0 0 25px rgba(0,150,255,0.7);
}

.correct{
background:linear-gradient(45deg,#16a34a,#22c55e) !important;
}

.wrong{
background:linear-gradient(45deg,#dc2626,#ef4444) !important;
}

.feedback{
margin-top:15px;
padding:15px;
border-radius:12px;
display:none;
font-size:15px;
}

.correctBox{
background:rgba(0,255,150,0.1);
border:1px solid rgba(0,255,150,0.3);
}

.wrongBox{
background:rgba(255,0,0,0.1);
border:1px solid rgba(255,0,0,0.3);
}

.result{
margin-top:30px;
padding:20px;
border-radius:15px;
background:rgba(255,255,255,0.05);
text-align:center;
font-size:22px;
display:none;
}

.badges{
margin-top:20px;
font-size:18px;
}

canvas{
margin-top:30px;
background:rgba(255,255,255,0.05);
border-radius:15px;
padding:10px;
}
</style>
</head>

<body>

<div class="container">
<h1 class="title">ğŸ§  Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
<div class="pointsBox">ğŸ† Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="points">0</span></div>
<div class="timer">â± Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="time">20</span> Ø«Ø§Ù†ÙŠØ©</div>

<div id="quiz"></div>
<div id="resultBox" class="result"></div>
<div class="badges" id="badges"></div>
<canvas id="chart" height="120"></canvas>
</div>

<script>

const questions = [
{
q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠØŸ",
answers:["Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","Ø²ÙŠØ§Ø¯Ø© Ø³Ø±Ø¹Ø© Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª","ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹"],
correct:0,
explain:"Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ ÙŠÙ‡Ø¯Ù Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ù†Ø¸Ù…Ø© Ù…Ù† Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚."
},
{
q:"Ù…Ø§ Ø£Ø®Ø·Ø± ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§ØªØŸ",
answers:["ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…Ø§ÙŠÙƒ","ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©","ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø·"],
correct:0,
explain:"Ù‚Ø¯ ØªØ³Ù…Ø­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…Ø§ÙŠÙƒ Ø¨Ø§Ù„ØªØ¬Ø³Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…."
},
{
q:"Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ØªØ¹Ù†ÙŠØŸ",
answers:["Ø®Ø¯Ø§Ø¹ Ø§Ù„Ø¨Ø´Ø± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª","ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¬Ù‡Ø§Ø²","ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙÙŠØ±ÙˆØ³Ø§Øª"],
correct:0,
explain:"ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø®Ø¯Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ„ÙŠØ³ ÙƒØ³Ø± Ø§Ù„Ø£Ù†Ø¸Ù…Ø©."
}
];

let score = 0;
let points = 0;
let currentTime = 20;
let timer;

const quizDiv = document.getElementById("quiz");
const pointsSpan = document.getElementById("points");
const timeSpan = document.getElementById("time");

function startTimer(){
clearInterval(timer);
currentTime = 20;
timeSpan.innerText = currentTime;

timer = setInterval(()=>{
currentTime--;
timeSpan.innerText = currentTime;
if(currentTime<=0){
clearInterval(timer);
autoWrong();
}
},1000);
}

function autoWrong(){

// Ø¥ØµÙ„Ø§Ø­: ÙÙ‚Ø· Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØªØ­ÙˆÙ„ Ø®Ø·Ø£
let currentCard = document.querySelector(".card:not([data-answered='true'])");

if(currentCard){
currentCard.style.opacity="0.6";
currentCard.dataset.answered="true";
}

checkFinish();
startTimer();
}

questions.forEach((item,index)=>{

let card = document.createElement("div");
card.className="card";

let q = document.createElement("h3");
q.innerText = (index+1)+" - "+item.q;
card.appendChild(q);

let feedback = document.createElement("div");
feedback.className="feedback";
card.appendChild(feedback);

item.answers.forEach((ans,i)=>{

let btn = document.createElement("button");
btn.innerText = ans;

btn.onclick = ()=>{

if(card.dataset.answered) return;

card.dataset.answered="true";
clearInterval(timer);

if(i === item.correct){
score++;
points += 10;
pointsSpan.innerText = points;
btn.classList.add("correct");

feedback.style.display="block";
feedback.classList.add("correctBox");
feedback.innerHTML = "âœ… Ø¥Ø¬Ø§Ø¨ØªÙƒ ØµØ­ÙŠØ­Ø©<br>ğŸ“˜ Ø§Ù„Ø³Ø¨Ø¨: "+item.explain;

}else{
btn.classList.add("wrong");

let correctBtn = card.querySelectorAll("button")[item.correct];
correctBtn.classList.add("correct");

feedback.style.display="block";
feedback.classList.add("wrongBox");
feedback.innerHTML = "âŒ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ø®Ø§Ø·Ø¦Ø©<br>ğŸ“˜ Ø§Ù„ØµØ­ÙŠØ­ Ù„Ø£Ù†: "+item.explain;
}

startTimer();
checkFinish();
};

card.appendChild(btn);
});

quizDiv.appendChild(card);
});

startTimer();

function checkFinish(){
let answered = document.querySelectorAll(".card[data-answered='true']");

if(answered.length === questions.length){
clearInterval(timer);
showResult();
}
}

function showResult(){
let result = document.getElementById("resultBox");
let percent = Math.round((score/questions.length)*100);

result.style.display="block";
result.innerHTML = "ğŸ“Š Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: "+percent+"%";

showBadges(percent);
drawChart(percent);
}

function showBadges(percent){
let badgeBox = document.getElementById("badges");

if(percent >= 90){
badgeBox.innerHTML = "ğŸ¥‡ Ø´Ø§Ø±Ø© Ø®Ø¨ÙŠØ± Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ";
}
else if(percent >= 70){
badgeBox.innerHTML = "ğŸ¥ˆ Ø´Ø§Ø±Ø© Ù…ØªÙ‚Ø¯Ù…";
}
else if(percent >= 50){
badgeBox.innerHTML = "ğŸ¥‰ Ø´Ø§Ø±Ø© Ù…Ø¨ØªØ¯Ø¦ Ø¬ÙŠØ¯";
}
else{
badgeBox.innerHTML = "ğŸ“˜ ØªØ­ØªØ§Ø¬ ØªØ¯Ø±ÙŠØ¨ Ø£ÙƒØ«Ø±";
}
}

function drawChart(percent){
let canvas = document.getElementById("chart");
let ctx = canvas.getContext("2d");

ctx.clearRect(0,0,canvas.width,canvas.height);

ctx.fillStyle = "#0ea5e9";
ctx.fillRect(50,50,percent*3,40);

ctx.fillStyle = "white";
ctx.font = "18px Tahoma";
ctx.fillText(percent+"%", 50+(percent*3)+10 ,75);
}

</script>

</body>
</html>
